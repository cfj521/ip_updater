# Cloudflare DNS样本配置文件
# 复制此文件到 /etc/ip_updater/config.conf 并根据需要修改

check_interval = 300

[ip_detection]
timeout = 30
api_endpoints = [
    "https://api.ipify.org",
    "https://ipv4.icanhazip.com",
    "https://checkip.amazonaws.com"
]
web_endpoints = [
    "https://ifconfig.me/ip",
    "https://ipinfo.io/ip"
]

[retry]
interval = 60
max_retries = -1

[logging]
level = "info"
file_path = "/var/log/ip_updater/ip_updater.log"
max_size = 100
max_age = 30

# Cloudflare DNS更新配置
[[dns_updater]]
name = "cloudflare-main"
provider = "cloudflare"
# Cloudflare API Token（推荐使用Token而不是Global API Key）
token = "your_api_token"
domain = "example.com"

[[dns_updater.record]]
name = "@"
type = "A"
ttl = 1              # Cloudflare中1表示自动

[[dns_updater.record]]
name = "www"
type = "A"
ttl = 1

[[dns_updater.record]]
name = "api"
type = "A"
ttl = 300
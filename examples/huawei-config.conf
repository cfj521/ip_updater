# 华为云DNS样本配置文件
# 复制此文件到 /etc/ip_updater/config.conf 并根据需要修改

check_interval = 300

[ip_detection]
timeout = 30
api_endpoints = [
    "https://api.ipify.org",
    "https://ipv4.icanhazip.com",
    "https://checkip.amazonaws.com"
]
web_endpoints = [
    "https://ifconfig.me/ip",
    "https://ipinfo.io/ip"
]

[retry]
interval = 60
max_retries = -1

[logging]
level = "info"
file_path = "/var/log/ip_updater/ip_updater.log"
max_size = 100
max_age = 30

# 华为云DNS更新配置
[[dns_updater]]
name = "huawei-main"
provider = "huawei"
# 华为云Access Key
access_key = "your_access_key"
# 华为云Secret Access Key
secret_key = "your_secret_access_key"
domain = "example.com"

[[dns_updater.record]]
name = "@"
type = "A"
ttl = 300

[[dns_updater.record]]
name = "www"
type = "A"
ttl = 600

[[dns_updater.record]]
name = "app"
type = "A"
ttl = 300
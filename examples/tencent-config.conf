# 腾讯云DNS样本配置文件
# 复制此文件到 /etc/ip_updater/config.conf 并根据需要修改

# Default check interval in seconds (兼容旧版本，建议使用下面的分离配置)
check_interval = 600

# DNS更新检查间隔 (seconds, default: 3600 = 60 minutes)
dns_check_interval = 3600

# 文件更新检查间隔 (seconds, default: 600 = 10 minutes)
file_check_interval = 600

[ip_detection]
timeout = 30
# API endpoints for getting public IP (tried first) - 中国大陆可访问服务
api_endpoints = [
    "https://myip.ipip.net",
    "https://ddns.oray.com/checkip",
    "https://ip.3322.net",
    "https://members.3322.org/dyndns/getip"
]

# Web endpoints for getting public IP (fallback) - 中国大陆可访问服务
web_endpoints = [
    "https://ip.cn/api/index?ip&type=0",
    "https://ip4.seeip.org"
]

[retry]
interval = 60
max_retries = -1

[logging]
level = "info"
file_path = "/var/log/ip_updater/ip_updater.log"
max_size = 100
max_age = 30

# 腾讯云DNS更新配置
[[dns_updater]]
name = "tencent-main"
provider = "tencent"
# 腾讯云SecretId
access_key = "your_secret_id"
# 腾讯云SecretKey
secret_key = "your_secret_key"
domain = "example.com"

[[dns_updater.record]]
name = "@"
type = "A"
ttl = 600

[[dns_updater.record]]
name = "www"
type = "A"
ttl = 600

[[dns_updater.record]]
name = "cdn"
type = "A"
ttl = 600